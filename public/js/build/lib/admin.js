define(function(){var c=pager.Aviator,b=null;LazyLoad.css("/css/admin.css");var d=React.createClass({displayName:"SubNavItem",selectMe:function(a){a.preventDefault();c.navigate($(a.currentTarget).attr("href"))},render:function(){var a=this.props.option,b=React.addons.classSet({active:a.id===this.props.currentView});return React.DOM.li({className:b,key:a.id},React.DOM.a({onClick:this.selectMe,href:"/"+pager.org.id+"/admin/"+a.id},a.name))}}),e=React.createClass({displayName:"SubNav",componentDidMount:function(){this.props.currentView||
this.props.setView(this.props.options[0].id)},render:function(){return React.DOM.ul({id:"AdminSideNav",className:"side-nav"},this.props.options.map(function(a){return d({key:a.id,option:a,setView:this.props.setView,currentView:this.props.currentView})}.bind(this)))}});return React.createClass({displayName:"Main",getInitialState:function(){return{currentView:this.props.args.view,options:[],loadingView:!1}},componentWillReceiveProps:function(a){this.setView(a.args.view)},setView:function(a){this.isMounted()&&
a&&(b=null,this.setState({currentView:a,loadingView:!0}),require(["./admin."+a],function(a){b=a;this.setState({loadingView:!1})}.bind(this)))},componentDidMount:function(){$.get(pager.urls.ajax+"admin/options").done(function(a){this.isMounted()&&this.setState({options:a})}.bind(this));!b&&this.state.currentView&&this.setView(this.state.currentView)},render:function(){return React.DOM.div({id:"AdminPanel",className:"panel"},React.DOM.div({className:"row"},React.DOM.div({className:"small-3 columns"},
this.state.options.length?e({options:this.state.options,currentView:this.state.currentView,setView:this.setView}):null),React.DOM.div({id:"InnerComponent",className:"small-9 columns"},b&&!this.state.loadingView?b(null):React.DOM.div(null,"..."))))}})});
