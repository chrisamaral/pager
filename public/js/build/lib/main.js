define(["../helpers/utils"],function(c){function e(){"urls pages org user org build".split(" ").forEach(function(a){var b=pager[a];b&&Modernizr.localstorage&&localStorage.setItem("pager."+a,JSON.stringify(b))})}function h(){pager.rootElem=React.renderComponent(f({urls:pager.urls,pages:pager.pages}),document.getElementById("container"));$.get("/"+pager.org.id+"/api/pages").done(function(a){a instanceof Array&&(pager.pages=a.concat(),pager.rootElem.setProps({pages:pager.pages}));e()});require.run("./app")}
var d=!1,f,g;c=location.pathname.split("/");if(c[1])return pager.org={id:c[1]},setInterval(function(){$(".clearing-blackout").length?($("#TopBar").css("z-index","-1"),d=!0):d&&($("#TopBar").css("z-index",""),d=!1)},1E3),g=React.createClass({displayName:"PageList",render:function(){var a={"Administra\u00e7\u00e3o":"fi-lock","Configura\u00e7\u00f5es":"fi-wrench"},b=this.props.pages.map(function(b){var c=a[b.name];return React.DOM.li({key:b.name},React.DOM.a({href:b.url},c&&React.DOM.i({className:"the-icon "+
c}),b.name))}),c=this.props.urls.base;b.unshift(React.DOM.li({key:"usr.home"},React.DOM.a({href:c+"/home"},React.DOM.i({className:"the-icon fi-home"}),"In\u00edcio")));b.unshift(React.DOM.li({key:"placeholder"},React.DOM.label(null,"Menu")));b.push(React.DOM.li({key:"usr"},React.DOM.label(null,"Usu\u00e1rio")));b.push(React.DOM.li({key:"usr.settings"},React.DOM.a({href:c+"/user"},React.DOM.i({className:"the-icon fi-torso"}),"Configura\u00e7\u00f5es")));b.push(React.DOM.li({key:"usr.logout"},React.DOM.a({href:c+
"/logout"},React.DOM.i({className:"the-icon fi-x"}),"Logout")));return React.DOM.ul({className:"off-canvas-list"},b)}}),f=React.createClass({displayName:"Root",componentDidMount:function(){$(document).foundation()},render:function(){var a=this.props.app;return React.DOM.div({"data-offcanvas":!0,className:"off-canvas-wrap"},React.DOM.div({className:"inner-wrap"},React.DOM.nav({id:"TopBar",className:"tab-bar"},React.DOM.section({className:"middle tab-bar-section"},React.DOM.h1({className:"title"},"Pager - Sim Tv")),
React.DOM.section({className:"right-small"},React.DOM.a({className:"right-off-canvas-toggle menu-icon"},React.DOM.span(null)))),React.DOM.aside({className:"right-off-canvas-menu"},g({urls:this.props.urls,pages:this.props.pages})),React.DOM.section({className:"main-section"},a&&a({view:this.props.view,args:this.props.args,lib:this.props.lib}))))}}),pager.pages=[],pager.components={},Modernizr.localstorage&&["urls","pages","org","user"].forEach(function(a){var b=localStorage.getItem("pager."+a);pager[a]=
b&&JSON.parse(b)||pager[a]}),pager.org&&$.get("/"+pager.org.id+"/api").done(function(a){_.isObject(a)&&(_.merge(pager,a),e())}).always(h),pager;$("<h1>Erro</h1>").appendTo("body")});
